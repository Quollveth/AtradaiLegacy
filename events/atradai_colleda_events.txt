namespace = atradai_colleda

#sets up first primitive colleda
planet_event = {
	id = atradai_colleda.100
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		add_modifier = {
			modifier = atradai_temporal_shift
			days = -1
		}
		add_modifier = {
			modifier = atradai_perfect_environment
			days = -1
		}
		atradai_add_gaia_features = yes
		atradai_add_gaia_features = yes #why add every planetary feature once when you can add them twice?
		#modifiers and features are added here instead of the scripted effects since those can run multiple times

		generate_first_atradai_primitives = yes
		setup_first_atradai_primitives = yes
	}
}

#Invaded primitive Colleda notification
#The attacker win can only trigger country events
#Event 1001 is called by the on action, delays activation of event 1002 and 1003
country_event = {
	id = atradai_colleda.1001
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		fromfrom = { has_planet_flag = primitive_colleda }
	}
	immediate = {
		country_event = { id = atradai_colleda.1002 days = 1 }
		fromfrom = {
			planet_event = { id = atradai_colleda.1003 days = 1 }
		}
		destroy_country = from
		every_galaxy_pop = {
			limit = { is_species = Atradai }
			kill_pop = yes
		}
	}
}
#Notification
country_event = {
	id = atradai_colleda.1002
	title = atradai_colleda.1002.name
	desc = atradai_colleda.1002.desc
	picture = GFX_evt_vortex
	show_sound = event_mysterious_signal
	is_triggered_only = yes
	location = fromfromfrom
}
#Actual event
planet_event = { 
	id = atradai_colleda.1003 
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		remove_all_districts = yes
		remove_all_buildings = yes
		remove_modifier = planet_culture_shock
		destroy_colony = yes
		generate_first_atradai_primitives = yes
		setup_first_atradai_primitives = yes
	}
}
