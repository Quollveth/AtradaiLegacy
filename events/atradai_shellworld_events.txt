namespace = atradai_colleda
## MEGASTRUCTURE CONSTRUCTION
country_event = {
	id = atradai_colleda.5000
	title = atradai_colleda.5000.name
	desc = atradai_colleda.5000.desc
	picture = GFX_evt_city_planet
	show_sound = event_dyson_sphere_build_start
	is_triggered_only = yes
	location = from
}

country_event = {
	id = atradai_colleda.5001
	title = atradai_colleda.5001.name
	desc = atradai_colleda.5001.desc
	picture = GFX_evt_city_planet
	show_sound = event_dyson_sphere_build_upgrade_frame
	is_triggered_only = yes
	location = from
}

country_event = {
	id = atradai_colleda.5002
	title = atradai_colleda.5002.name
	desc = atradai_colleda.5002.desc
	picture = GFX_evt_city_planet
	show_sound = event_dyson_sphere_build_complete
	is_triggered_only = yes
	location = from
	immediate = {
		country_event = { id = atradai_colleda.5010 }
	}
}

#Shellworld mechanics event
country_event = {
	id = atradai_colleda.5010
	title = atradai_colleda.5010.name
	desc = atradai_colleda.5010.desc
	picture = GFX_evt_city_planet
	show_sound = event_default
	is_triggered_only = yes
	location = from
	option = {
		name = atradai_colleda.5010.a
		country_event = { id = atradai_colleda.5010 }
	}
	option = {
		name = atradai_colleda.5010.b
	}
}

event = {
	id = atradai_colleda.5100
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		every_playable_country = {
			limit = { has_origin = origin_shellworld }
			country_event = { id = atradai_colleda.5101 }
		}
	}
}

country_event = {
	id = atradai_colleda.5101
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		country_event = { id = atradai_colleda.5010 }
		capital_scope = {
			set_planet_flag = test_flag_5101
			generate_start_pops = yes
			add_deposit = d_atra_ruined_colleda
			add_deposit = d_atra_colleda_job_manager
			add_building = building_capital
			add_district = colleda_penrose
			add_district = colleda_synthesizer
			add_district = colleda_farms
			add_district = colleda_industry
			add_district = colleda_factory
			add_district = colleda_leisure
			add_district = colleda_science
			add_district = colleda_refinery
			if = {
				limit = { owner = { is_regular_empire = yes } }
				add_district = colleda_metropolis
			} else_if = {
				limit = { owner = { is_hive_empire = yes } }
				add_district = colleda_hive_city
			} else_if = {
				limit = { owner = { is_machine_empire = yes } }
				add_district = colleda_nexus
			}
			#more pops = more gooder
			while = {
				limit = { num_pops < 50 }
				create_pop = {
					species = owner_main_species
					ethos = random
				}
			}
		}
	}
}
